{% load static %}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>TinyMe-Sign In</title>
    <link rel="stylesheet" type="text/css" href="{% static '/css/bootstrap.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static '/css/sign_in.css' %}">
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'favicon.ico' %}">
</head>

<body style="background:white">

<div class="container-fluid h-100">

    <div class="row h-100 justify-content-center align-items-center">

        <div class="col-sm-4">

            <a href="{% url 'url_shortener:home' %}"> <img src="{% static 'logo.png' %}" style="float:right"/></a>

            <form class="form-signin" method="post" onsubmit="validateData()"
                  enctype="application/x-www-form-urlencoded">
                {% csrf_token %}
                <label for="email" class="sr-only">Email address</label>
                <input type="email" class="form-control mb-2" id="email" name="email" placeholder="Email address"
                       required>

                <label for="password" class="sr-only">Password</label>
                <input class="form-control mb-2" type="password" placeholder="Password" id="password" name="password"
                       required>

                <input type="submit" class="btn btn-lg btn-primary btn-block" id="signin" name="signin" value="Sign-In">
            </form>

            <div class="alert alert-danger" role="alert" id="alert" style="display:None">
                Email or password is invalid!!
            </div>

            {% if error %}
            <div class="alert alert-danger" role="alert">
                {{ error }}
            </div>
            {% endif %}
        </div>

    </div>

</div>

<script>
        function validateData() {
            var email = document.getElementById("email").value;
            var regexEmail = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            if (!email.match(regexEmail)) {
                document.getElementById("jalert").style.display = "block";
                document.getElementById("jalert").innerHTML = "Email or password is invalid!!";
                event.preventDefault();
            }
        }


</script>

</body>

</html>
